"use strict";var Github=function(e,t){this.baseUrl="https://api.github.com",this.clientId=e,this.secret=t};Github.prototype.request=function(e,t,n){var o=jQuery.extend({client_id:this.clientId,secret:this.secret},t);jQuery.ajax({url:this.baseUrl+e,data:o}).done(function(e){n(e)}).fail(function(){n()})},Github.prototype.getUser=function(e,t){var n="/users/"+e;this.request(n,{},t)},Github.prototype.getUserRepos=function(e,t,n){var o="/users/"+e+"/repos";this.request(o,t,n)},function(e){function t(n,i){o.getUserRepos(n.login,{per_page:3,page:i},function(o){o&&o.length>0&&(e("#repos").html(e.templates("#repoTemplate").render(o)),e("#pagination").twbsPagination({totalPages:Math.ceil(n.public_repos/3),visiblePages:3,prev:"&laquo",next:"&raquo",onPageClick:function(e,o){t(n,o)}}))})}function n(t){var n=new Date,o=n.getTime(),i=e("#note").val(),r={id:o,note:i};JSON.parse(localStorage.getItem("notes"));""===i?(alert("note is required"),t.preventDefault()):(notes=JSON.parse(localStorage.getItem("notes")),null===notes&&(notes=[]),notes.push(r),localStorage.setItem("notes",JSON.stringify(notes)),e(".modal-body").html("Done!"))}var o=new Github("bd27811095169a2986c8","775086d2ce6236f285bdc437f96a3cb2ca210f21");e(document).ready(function(){var i;e("#search").on("keydown",function(){clearTimeout(i),i=setTimeout(function(){var n=e(this).val();n?o.getUser(n,function(n){n?(e("#profile").html(e.templates("#userTemplate").render(n)),t(n,1)):e("#profile").html(e.templates("#userNotFoundTemplate").render())}):e("#profile").html("")}.bind(this),500)}),e("#add-note").on("submit",function(e){n(e)})})}(jQuery);